(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{185:function(e,t,a){e.exports=a(409)},190:function(e,t,a){},406:function(e,t){e.exports="data:image/png;base64,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"},407:function(e,t){e.exports="data:image/png;base64,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"},408:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAMAAAANIilAAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAACfFBMVEUAAAA5quMtndstnNstnNsunNsxndgsnNwtnNstnNosnNswn98unNwtnNstnNstnNssndwtnNstnNstnNsunNwum9wtnNswn9ctnNwgn98snNstnNskktstluEtndotnNwvmtssm9stm9stnNstndstm9wtnNstnNstnNwtnNssnNwsnNstndwtm9stnNstm9wtndsrnNUtnNoundgum9stnNstndstnNwtndssmdsundssnNounNsA//8um9gtnNokpNstnNotn90unNwtnNstnNstnNsunNstnNstnNsunNssnNozmeYtnNstm9sunNoum9sundwtnNssnNozmd0tnNstndosm9wtm9szmcwtm9ssnNstnNsum9wAgP8rndktnNstndsrqtUtnNwtm9stnNstndtAgL8snNssnNstnNstnNstnNstnNounNwum9srntsrmt0tnNstnNstnNstnNstntstnNstnNssndstnNtVqv8vodktnNsvnd0tndopnN4undsundoum9wtnNsuotEunNstm9oundstndsxntstm9otnNssndwtnNssm94tnNsrmd0sndstndwuntssnNsnndgtnNstnNssnNounNstnNssnNstntotm9stnNwpmdYtnNstnNstnNstnNwum9kum9otm9stnNssm9szmdkrldUtnNwtnNstnNsuntosm9wtm9wtnNosm9stnNssndsrndwvmtsunNstndwtnNounNssnNstndsum9stm9sul9wsntwrmtotnNstnNsvnNstnNsum9sunNotm9otnNwsm9osm9ounNssm9soodcunNwtnNstnNsAAADZ4KhTAAAA0nRSTlMACZTLzKgadKN8rBCt6u7+bYj37VhCsCDmCNr0BxHKg0dApPvXu7/d3/yQm6b22zPpErUnnNRbbHIjjKe+ASG8DqAtSNX5VeD48qLDCt54i1Re4YQP52CK0gVPXaqXAi/9OQaYqcerBMmWr+jGPiyAKjXljex+P8GlVncDG/E8mR96U3u2C2qus8UVfdlR7xfzHkZJMusN4nFLz/CyIs20Gc710J89WY/cXBQMwtP6N1dmdoWTuEErxIJnZGKHaeQWHTC6mjG5HG+SUG5STaETX8gnPj+sAAAAAWJLR0QAiAUdSAAAAAlwSFlzAAAN1wAADdcBQiibeAAAAAd0SU1FB+MCFQMDMqC/i1sAAAOfSURBVEjH7VT5O5RRFD4a2oiihSYqmgZlqyiVlFITLRShhSFMpUJ7SbRQSYtImxLtFEn7vmjR3v2Les/9ZpixTI9fy3me7571vctZPqJe6qX/lWz6qGwVsuvbY3A/0Ub9ewwe0A4e2GOwvcMgR5ATwIOtRw5x5hNchnZyDGPwcKvYEcb7uXZ0uI1ks3qUNbC7WgF7dHSMVuxjrB491tOLg8ZpxnNtxmm1Wm9+sLOPAvb9S34miG5oop8Q/n8BB3SDDQyahHWydfAUGarGXV1waW0wbi+TFUJTsU6zig2VbxbTzW0zYJgZRrPAwrsFzsY3R7mkV0S7eS50v1AI84SInG3fGec233OBTnj5eyKtC6MQHR1mci1aDHUJS0vlvjrv/jHm9Q6LXWaWmuVx8VhXmJwJUBKTIKz0bwtZsKp979UWeV2THIJ1UJDiTEES9KlEaWstgtIXKW6bDKnGazKjIxWHYSbvIZ3J6yCuJ0raYERFa7Ik32gj78zJFOM3JRNt1isB2TnYRZ/LXq7PljiirWzfhm87Je/YycouvvluCPo98phMiMH4fFKHYLXNI9qbDyGGaB8PVUEhNs/g8/azegD34RY4qDwPJpe4AuiHijiDxUSHwY7AdRTck8gD55Rw6DHopQZZxQwldxy5n2xQGqec45BPnFyJ9VQZUQS4dxFRNnisfCun4jRxEssltgIHn6kkKpZtyJ2ceRbLOeNB/cBzwe1k8HmZxwtCXEySehV0h2EBl/iYdAr1U5J3GS+naghXOPfItKOBg9OQjBoKFEIlsRFOZmWsVWnipeATwL6r6DsZdA2m61KyFSKLdKZuv9HlJN6UvlIhbkkhBqbbUgpHoxKelSi1Ov8usMvqpe+O6eQ0W6Gtk9JdOLkIDe5STWosv9d0v/nBQ4Dyt8nRrH2kNOFEyI+llBfhJnkQ/E/oKezPLCaMG+Q5Ov7K5ADT/L2A6aVF0CtuRKrA+rrSzFyGP2jDG8uJfYNz1G/NDHGugL0jeg9WZWgz13twI3ac9xYYVUVtqoFr9xDCB37dxxKjOVTFrfWpI7jvKZhrZpkuouGfTQqLnzk1+ctT8sjQ2Mqt4XS886/mCw+crjU1jQzvmhcyYrDimK6UxcdRmUj9K+qCvhrH1dH4/08wOZp0ZqU98426pO8XzYKcn7c7CqOM+wl160nqhup8nY1BXj/KLDw/f02o/l29Zrc7WaH6+eurMqpbYoOol3rp36Y/BE2VaTB0BMgAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTktMDItMjFUMDI6MDM6NTArMDE6MDChxX3hAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE5LTAyLTIxVDAyOjAzOjUwKzAxOjAw0JjFXQAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAAASUVORK5CYII="},409:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(79),o=a.n(s),i=(a(190),a(70)),c=a(49),l=a(72),u=a(71),p=a(73),m=a(410),A=a(130),d=a(33),h=a(413),N=function(e){return{type:"SET_LOADING",loading:e}},f=function(e){return{type:"SET_ERROR",error:e}},v=function(e){return{type:"SET_FAVORITES",favorites:e}},b=function(e){return{type:"SET_CURRENT_USER",user:e}},w=function(e){var t=e.loading,a=e.location,n=e.user,s=e.setCurrentUser,o=e.setFavorites;return r.a.createElement("header",null,r.a.createElement("div",{className:"header-div"},r.a.createElement("div",{className:"title-div"},r.a.createElement(m.a,{id:"title",to:"/"},"BikeSee"),r.a.createElement("div",{className:"subheader-container"},r.a.createElement("h3",{className:"loading-text"},n.name?"Welcome ".concat(n.name):""),function(){if(t)return r.a.createElement("h3",{className:"loading-text"},"Loading Data...");if(!t)switch(a.pathname){case"/":return r.a.createElement("h3",{className:"loading-text"},"Click on a bike icon to view a station and get started.");case"/my-stops":return!n.name&&r.a.createElement("h3",{className:"loading-text"},"Login to view My Stops");default:return}}())),r.a.createElement("nav",null,r.a.createElement(m.a,{exact:!0,className:"nav-links",to:"/"},r.a.createElement("i",{className:"fas fa-bicycle"}),r.a.createElement("div",null,"Stations")),r.a.createElement(m.a,{className:"nav-links",to:"/my-stops"},r.a.createElement("i",{className:"fas fa-clipboard-list"}),r.a.createElement("div",null,"My Stops")),n.name?r.a.createElement(A.a,{onClick:function(){s({}),o([]),localStorage.removeItem("bike-user")},id:"sign-out",className:"nav-links",to:"/"},r.a.createElement("i",{className:"fas fa-user"}),r.a.createElement("div",null,"Sign Out")):r.a.createElement(m.a,{className:"nav-links",to:"/login"},r.a.createElement("i",{className:"fas fa-user"}),r.a.createElement("div",null,"Login")))))};w.defaultProps={loading:!0,user:{}};var E=Object(h.a)(Object(d.b)(function(e){return{loading:e.loading,user:e.user}},function(e){return{setCurrentUser:function(t){return e(b(t))},setFavorites:function(t){return e(v(t))}}})(w)),g=a(9),k=a.n(g),S=a(16),Z=a(131),y=a(5),X=a(172),O=a(175),x=a(173),U=a(171),j=a(174),T=a(181),M=a(4),R=a.n(M),V=function(){var e=Object(S.a)(k.a.mark(function e(t,a){var n,r,s,o=arguments;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=o.length>2&&void 0!==o[2]?o[2]:null,e.t0=a,e.next="DELETE"===e.t0?4:"GET"===e.t0?6:8;break;case 4:return r={method:a},e.abrupt("break",9);case 6:return r=n,e.abrupt("break",9);case 8:r={method:a,body:JSON.stringify(n),headers:{"Content-type":"application/json"}};case 9:return e.next=11,fetch(t,r);case 11:if(204!==(s=e.sent).status){e.next=16;break}return e.abrupt("return");case 16:if(!s.ok){e.next=20;break}return e.abrupt("return",s.json());case 20:throw Error(s.statusText);case 21:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}(),C=a(132),I=a.n(C),B=Object(y.c)(T.ReactLeafletSearch),q=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).getLocation=function(){n.setState({lat:0,lon:0,loading:!0}),navigator.geolocation.getCurrentPosition(function(e){var t=e.coords,a=t.latitude,r=t.longitude;n.setState({lat:a,lon:r,loading:!1}),n.getNetwork(a,r)})},n.showCurrentLocation=function(){var e=n.state,t=e.lat,s=e.lon,o=new R.a.icon({iconSize:[25,25],iconAnchor:[12,25],popupAnchor:[1,-34],iconUrl:a(406)});return r.a.createElement(X.a,{icon:o,position:[t,s],key:"geoloc",id:"geoloc"},r.a.createElement(O.a,{className:"tooltip"},r.a.createElement("h4",null,"You Are Here")))},n.getStations=function(e){var t=n.props,a=t.fetchStations,r=t.history;a(t.user.id,e.target.options.id),r.replace("/stations")},n.toggleFavorite=function(e){var t=e.target.id,a=n.props,r=a.deleteFavorite,s=a.postFavorite,o=a.user,i=a.favorites;o.name&&(i.includes(t)?r(t,o.id):s(t,o.id))},n.createStationMarkers=function(e,t){return e.map(function(e){var s,o,i=e.name,c=e.latitude,l=e.longitude,u=e.free_bikes,p=e.empty_slots,m=e.timestamp,A=e.id,d=n.props,h=d.favorites,N=d.user;h.includes(A)?(s=new R.a.icon(Object(Z.a)({},t,{iconUrl:a(407)})),o="Click to remove from stops"):(s=new R.a.icon(Object(Z.a)({},t,{iconUrl:a(408)})),o="Click to add to stops");var f=I()({lat:n.state.lat,lon:n.state.lon},{lat:c,lon:l},{exact:!0,unit:"mi"}),v=new Date(m),b=v.toDateString(),w=v.toTimeString().substring(0,5);return r.a.createElement(X.a,{className:"marker",position:[c,l],icon:s,key:A},r.a.createElement(x.a,{className:"tooltip"},r.a.createElement("div",null,r.a.createElement("h4",null,i),r.a.createElement("h4",{className:"network-name-text"},n.state.networkName),r.a.createElement("p",null,"Distance away: ",f.toFixed(1)," mi"),r.a.createElement("p",null,"Empty slots: ",p),r.a.createElement("p",null,"Free bikes: ",u),r.a.createElement("p",null,"Updated: ",b,", ",w),N.name&&r.a.createElement("p",{id:A,onClick:n.toggleFavorite,className:"click-text"},o))))})},n.showMarkers=function(){var e,t=n.props.location.pathname,a=n.props,r=a.stations,s=a.favorites,o={iconSize:[25,25],iconAnchor:[12,41],popupAnchor:[1,-25]};switch(t){case"/my-stops":return e=r.filter(function(e){return s.includes(e.id)}),n.createStationMarkers(e,o);default:return e=r,n.createStationMarkers(e,o)}},n.getNetwork=function(e,t){var a,r,s=n.props,o=s.cities,i=s.fetchStations,c=1e5;o.forEach(function(n){var s=n.location,o=s.latitude,i=s.longitude,l=I()({lat:e,lon:t},{lat:o,lon:i},{exact:!0,unit:"mi"});l<c&&(c=l,a=n.id,r=n.name)}),a!==n.state.closestNetwork&&(n.setState({closestNetwork:a,networkName:r}),i(null,a))},n.updateMapCenter=function(e){var t=e.target.getCenter();n.getNetwork(t.lat,t.lng)},n.state={lat:0,lon:0,loading:!0,closestNetwork:""},n}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=Object(S.a)(k.a.mark(function e(){var t=this;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.fetchCities();case 2:this.getLocation(),setTimeout(function(){t.setState({loading:!1})},100);case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.lat,a=e.lon,n=e.loading;return r.a.createElement("div",{className:"map-container"},!n&&r.a.createElement("i",{onClick:this.getLocation,className:"fas fa-location-arrow"}),!n&&r.a.createElement(U.a,{onMove:this.updateMapCenter,id:"map",minZoom:"13",maxZoom:"19",center:[t,a],zoom:"13"},this.showCurrentLocation(),this.showMarkers(),r.a.createElement(B,{position:"topright",inputPlaceholder:"Search by location",showMarker:!1,showPopup:!0,openSearchOnLoad:!0,zoom:13}),r.a.createElement(j.a,{url:"https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}{r}.png",attribution:'\xa9 <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors \xa9 <a href="https://carto.com/attributions">CARTO</a> | <a href="http://api.citybik.es/v2/">CityBikes API</a>',subdomains:"abcd",minZoom:"3",maxZoom:"19",ext:"png"})))}}]),t}(n.Component);q.defaultProps={cities:[],stations:[],favorites:[],user:{}};var F=Object(d.b)(function(e){return{cities:e.cities,stations:e.stations,favorites:e.favorites,user:e.user,loading:e.loading}},function(e){return{fetchCities:function(){return e(function(){var e=Object(S.a)(k.a.mark(function e(t){var a;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t(N(!0)),e.next=4,V("https://api.citybik.es/v2/networks","GET");case 4:a=e.sent,t({type:"SET_CITIES",cities:a.networks}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),t(f("Error fetching cities."));case 11:t(N(!1));case 12:case"end":return e.stop()}},e,this,[[0,8]])}));return function(t){return e.apply(this,arguments)}}())},fetchStations:function(t,a){return e(function(e,t){return function(){var e=Object(S.a)(k.a.mark(function e(a){var n;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a(N(!0)),e.next=4,V("https://api.citybik.es/v2/networks/".concat(t),"GET");case 4:n=e.sent,a({type:"SET_STATIONS",stations:n.network.stations}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),a(f("Error getting stations."));case 11:a(N(!1));case 12:case"end":return e.stop()}},e,this,[[0,8]])}));return function(t){return e.apply(this,arguments)}}()}(0,a))},deleteFavorite:function(t,a){return e((n=t,r=a,function(){var e=Object(S.a)(k.a.mark(function e(t){return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t(N(!0)),e.next=4,V("https://bike-see.herokuapp.com/api/v1/users/".concat(r,"/favorites/").concat(n),"DELETE");case 4:t({type:"REMOVE_FAVORITE",favorite:n}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),t(f("Error deleting favorite."));case 10:t(N(!1));case 11:case"end":return e.stop()}},e,this,[[0,7]])}));return function(t){return e.apply(this,arguments)}}()));var n,r},postFavorite:function(t,a){return e((n=t,r=a,function(){var e=Object(S.a)(k.a.mark(function e(t){return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t(N(!0)),e.next=4,V("https://bike-see.herokuapp.com/api/v1/users/favorites/new","POST",{user_id:r,station_id:n});case 4:t({type:"ADD_FAVORITE",favorite:n}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),t(f("Error adding favorite."));case 10:t(N(!1));case 11:case"end":return e.stop()}},e,this,[[0,7]])}));return function(t){return e.apply(this,arguments)}}()));var n,r}}})(q),D=a(7),Y=function(e){return function(){var t=Object(S.a)(k.a.mark(function t(a){var n,r;return k.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a(N(!0)),t.next=4,V("https://bike-see.herokuapp.com/api/v1/users/".concat(e,"/favorites"),"GET");case 4:n=t.sent,r=n.map(function(e){return e.station_id}),a(v(r)),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),a(f("Error getting favorites"));case 12:a(N(!1));case 13:case"end":return t.stop()}},t,this,[[0,9]])}));return function(e){return t.apply(this,arguments)}}()},G=function(e){return function(){var t=Object(S.a)(k.a.mark(function t(a){var n;return k.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a(N(!0)),t.next=4,V("https://bike-see.herokuapp.com/api/v1/users","POST",e);case 4:n=t.sent,a(b(n)),localStorage.setItem("bike-user",JSON.stringify(n)),a(Y(n.id)),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),a(f("Error logging in user. Please sign up or try again."));case 13:a(N(!1));case 14:case"end":return t.stop()}},t,this,[[0,10]])}));return function(e){return t.apply(this,arguments)}}()},Q=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(l.a)(this,Object(u.a)(t).call(this))).clearError=function(){e.props.setError("")},e.updateState=function(t){t.preventDefault();var a=t.target,n=a.id,r=a.value;"email"===n?e.setState(Object(D.a)({},n,r.toLowerCase())):e.setState(Object(D.a)({},n,r))},e.handleSubmit=function(){var t=Object(S.a)(k.a.mark(function t(a){return k.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a.preventDefault(),!e.props.login){t.next=7;break}return t.next=5,e.loginUser();case 5:t.next=9;break;case 7:return t.next=9,e.signUpUser();case 9:e.updatePath();case 10:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),e.signUpUser=Object(S.a)(k.a.mark(function t(){var a,n,r,s,o,i,c,l;return k.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a=e.props,n=a.postUser,r=a.setError,s=e.state,o=s.name,i=s.email,c=s.password,l=s.verifyPassword,c!==l){t.next=7;break}return t.next=5,n({name:o,email:i,password:c});case 5:t.next=8;break;case 7:r("Passwords do not match.");case 8:case"end":return t.stop()}},t,this)})),e.loginUser=Object(S.a)(k.a.mark(function t(){var a,n,r,s;return k.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.props.fetchUser,n=e.state,r=n.email,s=n.password,t.next=4,a({email:r,password:s});case 4:case"end":return t.stop()}},t,this)})),e.updatePath=function(){var t=e.props,a=t.error,n=t.history;""===a&&n.replace("/")},e.state={name:"",email:"",password:"",verifyPassword:""},e}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.login,a=e.error;return r.a.createElement("form",{autoComplete:"off",onSubmit:this.handleSubmit},!t&&r.a.createElement("label",null,"Name",r.a.createElement("input",{onChange:this.updateState,required:!0,type:"text",placeholder:"Enter your name",id:"name"})),r.a.createElement("label",null,"Email",r.a.createElement("input",{onChange:this.updateState,required:!0,type:"email",placeholder:"Enter your email",id:"email"})),r.a.createElement("label",null,"Password",r.a.createElement("input",{onChange:this.updateState,required:!0,type:"password",placeholder:"Enter your password",id:"password"})),!t&&r.a.createElement("label",null,"Verify Password",r.a.createElement("input",{onChange:this.updateState,required:!0,type:"password",placeholder:"Enter your password",id:"verifyPassword"})),r.a.createElement("button",{type:"submit"},"Submit"),t?r.a.createElement(A.a,{onClick:this.clearError,className:"pop-up-link",to:"/sign-up"},"Sign Up Here"):r.a.createElement(A.a,{onClick:this.clearError,className:"pop-up-link",to:"/login"},"Login Here"),r.a.createElement("p",{className:"error-text"},a))}}]),t}(n.Component);Q.defaultProps={error:"",user:{}};var P=Object(d.b)(function(e){return{error:e.error,user:e.user}},function(e){return{fetchUser:function(t){return e(G(t))},setError:function(t){return e(f(t))},postUser:function(t){return e(function(e){return function(){var t=Object(S.a)(k.a.mark(function t(a){var n;return k.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a(N(!0)),t.next=4,V("https://bike-see.herokuapp.com/api/v1/users/new","POST",e);case 4:n=t.sent,a(b(n)),localStorage.setItem("bike-user",JSON.stringify(n)),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),a(f("User already exists. Please log in."));case 12:a(N(!1));case 13:case"end":return t.stop()}},t,this,[[0,9]])}));return function(e){return t.apply(this,arguments)}}()}(t))}}})(Q),z=Object(d.b)(null,function(e){return{setError:function(t){return e(f(t))}}})(function(e){return r.a.createElement("div",{className:"overlay-div"},r.a.createElement("div",{className:"login-pop-up"},r.a.createElement("i",{onClick:function(){var t=e.history;(0,e.setError)(""),t.replace("/")},className:"fas fa-times close-icon"}),r.a.createElement("h3",null,e.title),"User Login"===e.title&&r.a.createElement(P,{history:e.history,login:!0}),"User Sign Up"===e.title&&r.a.createElement(P,{history:e.history,login:!1})))}),H=function(){return r.a.createElement("div",{className:"not-found-div"},r.a.createElement("h3",null,"404 Page Not Found"))},J=a(412),L=a(178),K=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).getCurrentUser=function(){var e=a.props.fetchUser;if(localStorage.hasOwnProperty("bike-user")){var t=localStorage.getItem("bike-user");e(JSON.parse(t))}},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.getCurrentUser()}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{id:"app-div"},r.a.createElement(E,null),r.a.createElement(J.a,null,r.a.createElement(L.a,{path:"bike-see/not-found",component:H}),r.a.createElement(L.a,{path:"bike-see/",component:F}),r.a.createElement(L.a,{path:"bike-see/my-stops",component:F})),r.a.createElement(J.a,null,r.a.createElement(L.a,{path:"bike-see/login",render:function(){return r.a.createElement(z,{history:e.props.history,title:"User Login"})}}),r.a.createElement(L.a,{path:"bike-see/sign-up",render:function(){return r.a.createElement(z,{history:e.props.history,title:"User Sign Up"})}})))}}]),t}(n.Component),W=Object(h.a)(Object(d.b)(null,function(e){return{fetchUser:function(t){return e(G(t))}}})(K));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var _=a(50),$=a(411),ee=a(182),te=a(184),ae=Object(_.combineReducers)({favorites:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_FAVORITE":return[].concat(Object(te.a)(e),[t.favorite]);case"REMOVE_FAVORITE":var a,n=e.findIndex(function(e){return e===t.favorite});return(a=e.slice()).splice(n,1),a;case"SET_FAVORITES":return t.favorites;default:return e}},stations:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_STATIONS":return t.stations;default:return e}},cities:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_CITIES":return t.cities;default:return e}},error:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_ERROR":return t.error;default:return e}},loading:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_LOADING":return t.loading;default:return e}},user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_CURRENT_USER":return t.user;default:return e}}}),ne=a(183),re=Object(_.createStore)(ae,Object(ee.composeWithDevTools)(Object(_.applyMiddleware)(ne.a)));o.a.render(r.a.createElement(d.a,{store:re},r.a.createElement($.a,null,r.a.createElement(W,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[185,1,2]]]);
//# sourceMappingURL=main.9267d3fd.chunk.js.map